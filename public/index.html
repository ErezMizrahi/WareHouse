<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>מנעול ובריח אשדוד</title>
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
      integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <header>
      <h1 class="title">מנעול ובריח אשדוד</h1>
    </header>
    <main>
      <div class="btn-group btn-group-md" role="group" aria-label="...">
        <button
          type="button"
          class="btn btn-secondary"
          id="uploadExcelToServer"
        >
          העלאת קובץ
        </button>
        <!-- <button type="button" class="btn btn-secondary" id="deleteItem">מחיקה</button> -->
        <button type="button" class="btn btn-secondary" id="addItem">
          הוספה
        </button>
        <button type="button" class="btn btn-secondary" id="searchItem">
          חיפוש
        </button>
      </div>

      <form id="searchForm">
        <div class="form-group">
          <label for="search">חיפוש</label>
          <input class="form-control" type="text" name="search" id="search" />
        </div>

        <div class="form-group">
          <button type="submit" class="btn btn-primary btn-lg btn-block">
            חיפוש
          </button>
        </div>
      </form>

      <form class="hidden" id="addItemForm">
        <div class="form-group">
          <label for="name">שם הפריט</label>
          <input class="form-control" type="text" name="name" id="name" />

          <label for="ammount">כמות</label>
          <input class="form-control" type="text" name="ammount" id="ammount" />

          <label for="location">מיקום</label>
          <input
            class="form-control"
            type="text"
            name="location"
            id="location"
          />
        </div>

        <div class="form-group">
          <button type="submit" class="btn btn-primary btn-lg btn-block">
            הוסף
          </button>
        </div>
      </form>

      <form
        class="hidden"
        id="excelForm"
        action="/excel"
        method="POST"
        enctype="multipart/form-data"
      >
        <div class="form-group">
          <label for="excelFile">העלאה קובץ</label>
          <input
            class="form-control"
            type="file"
            name="excelFile"
            id="excelFile"
            accept=".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel"
          />
        </div>

        <p>
          העלאת קובץ אקסל למערכת מוחקת את הנתונים הישנים שנשמרו במסד הנתונים
          ומחליפה אותם בנתוני הקובץ.
          <b class="warning">לא ניתן לשחזר לאחר הפעולה</b>
        </p>

        <div class="form-group">
          <button type="submit" class="btn btn-primary btn-lg btn-block">
            העלאה
          </button>
        </div>
      </form>

      <div class="loading hidden">
        <img src="/images/loading.gif" alt="" srcset="" class="loading" />
      </div>

      <div class="items"></div>
    </main>

    <!-- Modal -->
    <div
      class="modal fade"
      id="exampleModal"
      tabindex="-1"
      aria-labelledby="exampleModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog" style="direction: ltr">
        <form id="modalForm">
          <div class="modal-content">
            <div class="modal-body">
              <label for="name">שם הפריט</label>
              <input
                class="form-control"
                type="text"
                name="name"
                id="name-edit"
              />
              <label for="location">מיקום</label>
              <input
                class="form-control"
                type="text"
                name="location"
                id="location-edit"
              />
              <input type="hidden" name="id" value="" />
            </div>
            <div class="modal-footer">
              <button
                type="button"
                class="btn btn-secondary"
                data-dismiss="modal"
              >
                יציאה
              </button>
              <input
                type="submit"
                class="btn btn-primary"
                value="שמור שינויים"
              />
            </div>
          </div>
        </form>
      </div>
    </div>

    <script src="client.js"></script>
    <script
      src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
      integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
      integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"
      integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
